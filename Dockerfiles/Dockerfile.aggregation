FROM python:3.11-slim

WORKDIR /app

COPY src/aggregation.py /app/
COPY src/drone_pb2* /app/

RUN pip install --no-cache-dir grpcio grpcio-tools

EXPOSE 50051

CMD ["python", "aggregation.py"]
