FROM python:3.11-slim

WORKDIR /app

COPY src/battery_sensor.py /app/
COPY src/drone_pb2* /app/

RUN pip install --no-cache-dir grpcio grpcio-tools

EXPOSE 50061

CMD ["python", "battery_sensor.py"]
